# 查詢電腦有哪些 sdk 

```sh
dotnet --list-sdks
2.2.207 [C:\Program Files\dotnet\sdk]
3.1.426 [C:\Program Files\dotnet\sdk]
6.0.418 [C:\Program Files\dotnet\sdk]
7.0.405 [C:\Program Files\dotnet\sdk]
8.0.300 [C:\Program Files\dotnet\sdk]
```

# global.json

global.json 可以規定每個人電腦需要安裝哪個版本的 .net sdk 才能執行專案
假設版本已經定義為 2.2.207 ，別人拿這專案來 build ，但電腦沒有安裝該版本，會直接 build 不起來


- 列出所有已安裝的 Runtime 版本
```sh
dotnet --list-runtimes
```

- 列出所有已經安裝的 sdk 版本
```sh
dotnet --list-sdks
```

```sh
dotnet --list-sdks
2.2.207 [C:\Program Files\dotnet\sdk]
3.1.426 [C:\Program Files\dotnet\sdk]
6.0.418 [C:\Program Files\dotnet\sdk]
7.0.405 [C:\Program Files\dotnet\sdk]
8.0.300 [C:\Program Files\dotnet\sdk]
```
- 快速建立 global.json(使用目前的 sdk)

```sh
dotnet new globaljson
```

- 快速建立 global.json(指定特定的 sdk 版本)
```sh
dotnet new globaljson --sdk-version 3.1.418
dotnet new globaljson --sdk-version 6.1.100  --roll-forward latestFeature
dotnet new globaljson --sdk-version 6.1.100  --roll-forward latestPatch
```

`--roll-forward latestPatch` 的意思，會滾到小版的最新版
`--roll-forward latestFeature` 的意思是，會滾到整台電腦裝到的第最新版


舉例來說，電腦有 `6.0.421` `6.0.521` `8.0.100`

則下列 json 就會滾到 `6.0.421`

```json
 {
  "sdk": {
    "rollForward": "latestPatch",
    "version": "6.0.400"
  }
}
```

下列 json 則會滾到 `8.0.100`

```json
{
  "sdk": {
    "rollForward": "latestFeature",
    "version": "6.0.400"
  }
}
```


# 查找 global.json 的邏輯

從現在的目錄往上找，找到最上的路徑，找有沒有 global.json 檔案
如果沒有找到，就是用最新版



# 要確認專案有沒有被 global.json 綁定版本
可以用 `dotnet --info` 找到這個專案所使用的 global.json 是哪裡

```sh
global.json file:
  D:\Documents\??\project\global.json
```

如果沒有綁定，會是這樣的資料呈現

```sh
global.json file:
  Not found
```