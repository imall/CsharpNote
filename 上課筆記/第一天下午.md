# .net 版本

rc 版：表示 go-live ，是一個已上線版本
雖然不是正式版，發行候選版本，不過 微軟已經開始 support

這個介面看到的版本基本上是標示  runtime 版本

打開之後，我們會看到 sdk ，各種 Runtime
runtime 會包含的通常有
base class library 
app host


那如果我們安裝 sdk ，software development kits
那就會安裝開發工具


# 關於 runtime 出現了安全性更新

runtime 就是要執行 .net 需要的程式
所以我們會在測試機、正式機 安裝 .net ，讓部屬的檔案有辦法被執行

那如果這個環境被發現有安全性漏洞，被發現了，被公開了，被修好了

理論上我們就是趕快更新

因為我們應用程式是用這個環境在執行，如果哪裡有問題我們不會知道，微軟有測 有回報

只要是小版更新，微軟本來就保證不會出錯
因為他沒有加上任何東西，純粹是修問題而已

三個版本數字來說
第三個數字代表修復漏洞，直接更新不會發生任何問題
第二個數字代表有新功能增加


早期，發展還沒那麼穩定時，還會看到 1.0 1.1 2.0 2.1 2.2 3.0 3.1

不過到了 .net 5 的時代，由於已經確立一年就會有一個大版本出現，倒也不用在這一年的期間出現什麼小版本、小功能



# 安裝 Runtime
如果是 winsows 作業系統
建議安裝  Hosting Bundle ，否則 IIS 會沒辦法執行

```
The ASP.NET Core Runtime enables you to run existing web/server applications. On Windows, we recommend installing the Hosting Bundle, which includes the .NET Runtime and IIS support.

IIS runtime support (ASP.NET Core Module v2)
```
# 對於 runtime GPT 說

.NET 8.0.6 版本提供了多種運行時 (runtime) 供應用程式使用，分別適用於不同的應用場景和平台。這些運行時包含了 ASP.NET Core Runtime, .NET Desktop Runtime 和 .NET Runtime。以下是各運行時的差異及其安裝時機的說明：

### 1. ASP.NET Core Runtime 8.0.6
**用途：** 用於運行現有的 ASP.NET Core 網頁或伺服器應用程式。

**適用場景：** 
- 當你需要運行基於 ASP.NET Core 的網站或 API 時。
- 需要安裝在服務器或需要託管 ASP.NET Core 應用程式的機器上。

**安裝建議：** 
- Windows 平台推薦安裝 Hosting Bundle，它包括 .NET Runtime 和 IIS 支援 (ASP.NET Core Module v2)。
- 根據操作系統選擇對應版本 (Linux, macOS, Windows)。

### 2. .NET Desktop Runtime 8.0.6
**用途：** 用於運行現有的 Windows 桌面應用程式。

**適用場景：**
- 當你需要運行 WPF (Windows Presentation Foundation) 或 Windows Forms 應用程式時。
- 專門針對 Windows 桌面環境。

**安裝建議：** 
- 僅適用於 Windows 平台，選擇對應的架構版本 (Arm64, x64, x86)。

### 3. .NET Runtime 8.0.6
**用途：** 僅包含運行控制台應用程式所需的組件。

**適用場景：**
- 當你只需要運行 .NET 控制台應用程式，不需要桌面或網頁功能時。
- 可以在多種操作系統和架構上使用 (Linux, macOS, Windows)。

**安裝建議：**
- 根據操作系統選擇對應版本 (Linux, macOS, Windows)。
- 可選擇不同的架構版本 (Arm32, Arm64, x64, x86)。

### 如何選擇適合的運行時版本？
1. **應用程式類型：** 根據應用程式是 Web、桌面還是控制台，選擇對應的運行時。
   - Web 應用程式選擇 ASP.NET Core Runtime。
   - 桌面應用程式選擇 .NET Desktop Runtime。
   - 控制台應用程式選擇 .NET Runtime。

2. **操作系統：** 確認你的應用程式將運行的操作系統，並選擇對應的安裝包或二進制文件。

3. **架構：** 根據目標設備的處理器架構 (例如 x64, x86, Arm64)，選擇適合的版本。

### 安裝示例：
- **Web 應用程式在 Windows 上運行：** 安裝 ASP.NET Core Runtime 8.0.6 的 Hosting Bundle。
- **桌面應用程式在 Windows 上運行：** 安裝 .NET Desktop Runtime 8.0.6 的 x64 版本。
- **控制台應用程式在 Linux 上運行：** 安裝 .NET Runtime 8.0.6 的 x64 版本，使用包管理器或直接下載二進制文件。

這樣可以確保你在運行不同類型的應用程式時，安裝了最適合的 .NET 版本，從而達到最佳的性能和相容性。





# 查詢電腦有哪些 sdk 

```sh
dotnet --list-sdks
2.2.207 [C:\Program Files\dotnet\sdk]
3.1.426 [C:\Program Files\dotnet\sdk]
6.0.418 [C:\Program Files\dotnet\sdk]
7.0.405 [C:\Program Files\dotnet\sdk]
8.0.300 [C:\Program Files\dotnet\sdk]
```

如果要刪除 sdks
請到設定 應用程式  搜尋 sdks

# global.json

global.json 可以規定每個人電腦需要安裝哪個版本的 .net sdk 才能執行專案
假設版本已經定義為 2.2.207 ，別人拿這專案來 build ，但電腦沒有安裝該版本，會直接 build 不起來


- 列出所有已安裝的 Runtime 版本
```sh
dotnet --list-runtimes
```

- 列出所有已經安裝的 sdk 版本
```sh
dotnet --list-sdks
```

```sh
dotnet --list-sdks
2.2.207 [C:\Program Files\dotnet\sdk]
3.1.426 [C:\Program Files\dotnet\sdk]
6.0.418 [C:\Program Files\dotnet\sdk]
7.0.405 [C:\Program Files\dotnet\sdk]
8.0.300 [C:\Program Files\dotnet\sdk]
```
- 快速建立 global.json(使用目前的 sdk)

```sh
dotnet new globaljson
```

- 快速建立 global.json(指定特定的 sdk 版本)
```sh
dotnet new globaljson --sdk-version 3.1.418
dotnet new globaljson --sdk-version 6.1.100  --roll-forward latestFeature
dotnet new globaljson --sdk-version 6.1.100  --roll-forward latestPatch
```


1. `dotnet new globaljson --sdk-version 6.1.100 --roll-forward latestFeature`

--sdk-version 6.1.100：指定使用的 .NET SDK 版本為 6.1.100。
--roll-forward latestFeature：表示如果指定的 SDK 版本不可用，則使用最新的次要版本。例如，如果 6.1.100 不存在，則使用 6.2.x（最新的 6.x 系列版本）。


2. `dotnet new globaljson --sdk-version 6.1.100 --roll-forward latestPatch` 


--sdk-version 6.1.100：指定使用的 .NET SDK 版本為 6.1.100。
--roll-forward latestPatch：表示如果指定的 SDK 版本不可用，則使用最新的修補版本。例如，如果 6.1.100 不存在，則使用 6.1.x（最新的 6.1 系列版本）。
這兩個指令的差異在於 --roll-forward 的策略不同：

latestFeature 會向前滾動到最新的次要版本。
latestPatch 會向前滾動到最新的修補版本。


# 查找 global.json 的邏輯

從現在的目錄往上找，找到最上的路徑，找有沒有 global.json 檔案
如果沒有找到，就是用最新版



# 要確認專案有沒有被 global.json 綁定版本

當你 build 一個專案發現沒辦法 build，出現了找不到 sdk 的錯誤訊息

可以用 `dotnet --info` 找到這個專案所使用的 global.json 的位置，並且去安裝符合的 sdk 就可以了

```sh
global.json file:
  D:\Documents\??\project\global.json
```

如果沒有綁定，會是這樣的資料呈現

```sh
global.json file:
  Not found
```



# 透過 cli 封裝與發行

- 不要 exe
```sh
dotnet publish /p:UseApphost=false
```

自封式部屬

```sh
dotnet publish -r win-x64 --self-contained
```

# .net core 部屬類型
1. FDD 
2. FDE (Framework 相依可執行檔) 2.2 開始支援，3.0 變成預設部屬方式
3. SCD (自封式部屬)

# RID
1. 可透過 dotnet --info 查詢
2. 用來識別一個 .net core 應用程式應該執行在哪個平台
3. 基本格式
   os.version-architechure-additionqualifiers

   